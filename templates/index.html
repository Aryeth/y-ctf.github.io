{% extends "prose.html" %}

{% block article %}

{# <picture>
    <source srcset="{{ get_url(path='images/banner-white.svg') | safe }}" media="(prefers-color-scheme: dark)">
    <img src="{{ get_url(path='images/banner-gray.svg') | safe }}" alt="logo" class="h-48 md:h-64 p-2 md:p-4 w-full object-contain">
</picture> #}

<div class="h-48 md:h-64 p-2 md:p-4 w-full flex items-center justify-center invert-colors select-none">{{ load_data(path="static/images/banner-red.svg") | safe }}</div>

<p>
    {{ trans(key="hero", lang=lang) }}
</p>

<p class="text-center">
    <a class="font-bold" href='{{ get_url(path="@/pages/about.md", lang=lang) }}'>{{ trans(key="about", lang=lang) }}</a>
    路
    <a class="font-bold" href='{{ get_url(path="@/pages/events.md", lang=lang) }}'>{{ trans(key="events", lang=lang) }}</a>
    路
    <a class="font-bold" href='{{ get_url(path="@/pages/inscription.md", lang=lang) }}'>{{ trans(key="inscription", lang=lang) }}</a>
    路
    <a class="font-bold" href='mailto:y-ctf@heig-vd.ch'>{{ trans(key="contact", lang=lang) }}</a>
    路
    <a class="font-bold" href='{{ get_url(path="@/pages/commitee.md", lang=lang) }}'>{{ trans(key="commitee", lang=lang) }}</a>
</p>

<h2>{{ trans(key="latest_writeups", lang=lang) }}</h2>

{% set writeups = get_section(path="writeups/_index.md") %}
<ul>
    {% for page in writeups.pages | slice(end=5) %}
    <li>
        <h3 class="flex items-center gap-2 md:gap-4 !mt-4 !text-xl">
            <span class="font-normal hidden sm:block">
                {% set path = page.components | slice(end=2) | concat(with="_index.md") | join(sep="/") %}
                {% set sub = get_section(path=path) %}
                <a href="{{ sub.permalink | safe }}" class="no-underline text-muted-foreground">
                    {{ sub.title }}:
                </a>
            </span>
            <a href="{{ page.permalink | safe }}" class="underline-offset-2 decoration-2 max-w-[70%] w-fit flex-grow">
                {{ page.title }}
            </a>
            {# <div class="flex-grow"></div> #}
            <div class="flex-col flex items-center justify-center gap-y-2 gap-x-4">
                <span class="text-sm text-muted-foreground">
                    {{ page.date | date(format="%Y-%m-%d") }}
                </span>
                {% set tax =  page.taxonomies.categories | first %}
                <a href="/categories/{{ tax }}"
                    class="bg-accent text-accent-foreground px-2 py-1 rounded-md text-sm w-fit font-bold no-underline">
                    {{ tax }}
                </a>
                </div>
            </div>
        </h3>
    </li>
    {% endfor %}
</ul>


<div class="flex gap-4 sm:gap-6 items-center justify-center mt-8 md:mt-12">
    <a href="{{ get_url(path="/atom.xml") }}" class="no-underline">
        <div
            class="bg-accent px-3 py-1 md:py-2 h-fit hover:bg-primary/90 transition-colors duration-200 group"
        >
            <div class="flex gap-2 sm:gap-3 items-center justify-center">
                <p
                    class="text-muted-foreground group-hover:text-primary-foreground transition-colors duration-200 p-0 !m-0 text-sm sm:text-base"
                    style="margin: 0 !important;"
                >
                    {{ trans(key="rss_feed", lang=lang) }}
                </p>
                <svg class="duration-200 transition-colors group-hover:text-primary-foreground h-[1.2rem] w-[1.2rem] text-[--tw-prose-links]"
                    data-icon="octicon:rss-16" height="1em" width="1em">
                    <symbol id="ai:octicon:rss-16" viewBox="0 0 16 16">
                        <path
                            d="M2.002 2.725a.75.75 0 0 1 .797-.699C8.79 2.42 13.58 7.21 13.974 13.201a.75.75 0 0 1-1.497.098a10.5 10.5 0 0 0-9.776-9.776a.747.747 0 0 1-.7-.798ZM2.84 7.05h-.002a7 7 0 0 1 6.113 6.111a.75.75 0 0 1-1.49.178a5.5 5.5 0 0 0-4.8-4.8a.75.75 0 0 1 .179-1.489M2 13a1 1 0 1 1 2 0a1 1 0 0 1-2 0"
                            fill="currentColor"></path>
                    </symbol>
                    <use href="#ai:octicon:rss-16"></use>
                </svg>
            </div>
        </div>
    </a>
    <a href="{{ get_url(path="@/pages/archive.md") }}" class="no-underline">
        <div
            class="bg-accent px-3 py-1 md:py-2 h-fit hover:bg-primary/90 transition-colors duration-200 group"
        >
            <div class="flex gap-2 sm:gap-3 items-center justify-center">
                <p
                    class="text-muted-foreground group-hover:text-primary-foreground transition-colors duration-200 p-0 !m-0 text-sm sm:text-base"
                    style="margin: 0 !important;"
                >
                    {{ trans(key="archive", lang=lang) }}
                </p>
                <svg class="duration-200 transition-colors group-hover:text-primary-foreground h-[1.2rem] w-[1.2rem] text-[--link]"
                    data-icon="octicon:arrow-right-16" height="1em" width="1em">
                    <symbol id="ai:octicon:arrow-right-16" viewBox="0 0 16 16">
                        <path
                            d="M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.042-.018a.75.75 0 0 1-.018-1.042l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06"
                            fill="currentColor"></path>
                    </symbol>
                    <use href="#ai:octicon:arrow-right-16"></use>
                </svg>
            </div>
        </div>
    </a>
</div>



<footer class="pt-8 text-center">
    <p class="text-xs">
        {{ trans(key="footer", lang=lang) }} -
        {{ now() | date(format="%Y") }}
    </p>
    <p class="text-xs"><a href="https://getzola.org">Zola</a> v{{ version }} -
        <a href="{{ config.extra.repository }}" class="underline-offset-2 decoration-2">
            source
        </a>
    </p>
</footer>

{% endblock article %}

